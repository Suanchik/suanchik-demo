(this.webpackJsonpsuanchik=this.webpackJsonpsuanchik||[]).push([[3],{305:function(e,a,s){e.exports={Dialogs:"Messenger_Dialogs__HmSzy",messagelist:"Messenger_messagelist__1VyEc",itemD:"Messenger_itemD__2VJGz",redBorder:"Messenger_redBorder__10zEp",dialogMessage:"Messenger_dialogMessage__EsLhl",img:"Messenger_img__2IXdo",dialog:"Messenger_dialog__3vaic",item:"Messenger_item__VMjz5",names:"Messenger_names__1-FJi",active:"Messenger_active__33VUf",dialogStyles:"Messenger_dialogStyles__333aV",dialog2:"Messenger_dialog2__3neDp",textareaButton:"Messenger_textareaButton__3HSwF",showMessage:"Messenger_showMessage__3ZIJi",lastmessage:"Messenger_lastmessage__3c5kv",span:"Messenger_span__2FnUH",mymessage:"Messenger_mymessage__2HR3g",curentDialog:"Messenger_curentDialog__3DnXg",name:"Messenger_name__3o23r"}},306:function(e,a,s){e.exports=s.p+"static/media/close.1175686f.svg"},307:function(e,a,s){"use strict";s.r(a);var t=s(14),n=s(12),i=s(133),r=s(134),l=s(10),m=s(15),g=s(0),c=s.n(g),o=s(305),d=s.n(o),u=s(306),_=s.n(u),M=s(35),f=s.n(M),E=function(e){return c.a.createElement("div",{className:d.a.itemD},c.a.createElement("div",{className:d.a.dialogMessage},e.messages.map((function(a){return c.a.createElement("div",{key:a.id,className:"dialog_container"},c.a.createElement("span",{className:"me"===a.author?d.a.mymessage:d.a.span},c.a.createElement("img",{src:a.author===e.name?e.img:f.a,alt:""})," ",a.message),c.a.createElement("span",{className:d.a.img,onClick:function(){return s=a.id,void(window.confirm("\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435?")&&e.deleteMessage(e.index,s));var s}},c.a.createElement("img",{src:_.a,alt:"delete"})))}))))},p=function(e){return c.a.createElement("div",{className:d.a.item},c.a.createElement("div",null,c.a.createElement("div",{className:d.a.dialogStyles},c.a.createElement("div",{className:d.a.names},e.dialogList),e.img)))},v=s(28),b=s(9),h=s(71),y=function(e){var a=Object(h.a)({mode:"onChange"}),s=a.register,t=a.handleSubmit,n=a.formState.errors;return c.a.createElement("div",null,c.a.createElement("form",{onSubmit:t((function(a){console.log(a),e.addMessageC({id:5*Math.random(),message:a.message,author:"me"},e.dialogId)}))},c.a.createElement("div",{className:d.a.textareaButton},c.a.createElement("textarea",{name:"message",ref:s({required:"\u043f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"}),cols:"70",placeholder:n.message?"error: \u043f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435":"\u0432\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",className:n.message?d.a.redBorder:""}),c.a.createElement("button",null,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))))},N=Object(b.f)((function(e){var a=Object(g.useState)(null),s=Object(m.a)(a,2),t=s[0],n=s[1],i=e.match.params.dialogId;Object(g.useEffect)((function(){if(i){var a=Object(l.a)(e.messagesList).filter((function(e){return e.id===i}));n({dialogname:a[0].dialogname,img:a[0].img})}else{Object(l.a)(e.messagesList).filter((function(e){return e.id===i}));n({dialogname:null,img:f.a})}}),[]);var r=e.messagesList,o=e.messagesList.map((function(e,a){return c.a.createElement(v.b,{to:"/Messenger/"+e.id,key:e.id,onClick:function(){return function(e){n({dialogname:e.dialogname,img:e.img})}(e)},activeClassName:d.a.active},c.a.createElement(p,{key:a,id:e.id,dialogList:e.dialogname,img:c.a.createElement("img",{src:e.img?e.img:f.a})}))}));return c.a.createElement("div",{className:d.a.Dialogs},c.a.createElement("span",{style:{display:"inline-block",backgroundColor:"white",boxShadow:"0 0 0 0.5px rgb(0,0,0, 0.5)",marginRight:"-5px"}},c.a.createElement("div",{className:d.a.messagelist},o)),c.a.createElement("div",{className:d.a.dialog},t?c.a.createElement("div",{className:d.a.curentDialog},c.a.createElement("div",{className:d.a.name},c.a.createElement("span",{style:{opacity:"0.7",fontWeight:"normal"}},null===t.dialogname?"\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a\u0430":"\u0432\u0430\u0448\u0430 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u043a\u0430 \u0441"," "),t.dialogname),c.a.createElement("img",{src:t.img,alt:"ava"})):null,r.map((function(a,s){return c.a.createElement("div",{key:a.id,className:d.a.dialog2},c.a.createElement(b.b,{path:"/Messenger/"+a.id,render:function(){return c.a.createElement(E,{name:a.dialogname,img:a.img,key:s,index:s,id:a.id,messages:a.dialog,deleteMessage:e.deleteMessage})}}),i?c.a.createElement(y,{addMessageC:e.addMessageC,dialogId:i}):"")}))))}));a.default=Object(n.compose)(Object(t.b)((function(e){return{profile:e.ProfilePage.profile,newMLetter:e.MessagesPage.newMLetter,dialog:e.MessagesPage.dialog,messagesList:e.MessagesPage.messagesList}}),(function(e){return{addMessageC:function(a,s){e(Object(r.a)(a,s))},deleteMessage:function(a,s){e(Object(r.c)(a,s))}}})),i.a)(N)}}]);
//# sourceMappingURL=3.b959caf2.chunk.js.map